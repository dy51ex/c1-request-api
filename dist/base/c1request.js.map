{"version":3,"file":"c1request.js","sourceRoot":"","sources":["../../$/base/c1request.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,6DAAuD;AAEvD,kBAAe,CAAU,MAIxB,EAAc,EAAE;IACb,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC;QAChC,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,gBAAgB,6BAAQ,CAAC,OAAO,IAAI,EAAE,EAAE;QACvD,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,gBAAgB,6BAAQ,CAAC,OAAO,IAAI,EAAE,EAAE,CAAC;IAC5D,MAAM,OAAO,GAAG,MAAM,0BAAK,CAAC,OAAO,CAAC;QAChC,GAAG,EAAE,GAAG,6BAAQ,CAAC,UAAU,CAAC,MAAM,GAAG,6BAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;QAC1E,MAAM,EAAE,MAAM,CAAC,IAAI;QACnB,OAAO,EAAE;YACL,cAAc,EAAE,kBAAkB;YAClC,aAAa,EAAE,UAAU,MAAM,6BAAQ,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE;SAClE;QACD,IAAI,EAAE,MAAM,CAAC,IAAI;KACpB,CAAC,CAAC;IACH,MAAM,QAAQ,GAAG,OAAO,CAAC,IAA4B,CAAC;IACtD,OAAO,CAAC,QAAQ,CAAC,MAAM,IAAI,QAAQ,CAAM,CAAC;AAC9C,CAAC,CAAA,CAAC","sourcesContent":["import { settings, axios } from './SettingsController';\n\nexport default async <T>(params: {\n    type: 'get' | 'post' | 'put' | 'delete' | 'patch',\n    url: string,\n    body?: Record<string, any> | undefined,\n}): Promise<T> => {\n    const url = params.url.includes('?')\n        ? `${params.url}&api-version=${settings.version || ''}`\n        : `${params.url}?api-version=${settings.version || ''}`;\n    const request = await axios.request({\n        url: `${settings.controller.domain}${settings.version ? url : params.url}`,\n        method: params.type,\n        headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${await settings.controller.getToken()}`,\n        },\n        data: params.body,\n    });\n    const response = request.data as { Result?: unknown };\n    return (response.Result || response) as T;\n};\n"]}